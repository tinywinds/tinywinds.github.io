
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Tinywind</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Tinywind">
<meta property="og:url" content="http://tinywind.cn/page/10/index.html">
<meta property="og:site_name" content="Tinywind">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Nathan">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Tinywind" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
<meta name="generator" content="Hexo 4.2.0"></head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Tinywind</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="tinywind.cn">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main">
  
    <article id="post-navicate_mysql_connect_error_10061" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/02/28/navicate_mysql_connect_error_10061/" class="article-date">
  <time datetime="2015-02-28T03:59:58.000Z" itemprop="datePublished">2015-02-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/02/28/navicate_mysql_connect_error_10061/">mysql 远程连接 mySql数据库常见问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Mysql 默认情况下禁止 root 用户远程连接，如果要使用 root 用户远程连接，确保以下设置：</p>
<p>1、/etc/mysql/ 目录下找到mysql 配置文件修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">修改为</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96; bind-address &#x3D; 0.0.0.0</span><br></pre></td></tr></table></figure>

<p>2、修改 mysql 表中 root 用户的 host 字段为 ‘%’</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p`</span><br><span class="line">mysql&gt;use mysql;</span><br><span class="line">mysql&gt;select 'host' from user where user='root';</span><br><span class="line">mysql&gt;update user set host = '%' where user ='root';</span><br><span class="line">mysql&gt;flush privileges;</span><br><span class="line">mysql&gt;select 'host'   from user where user='root';</span><br></pre></td></tr></table></figure>

<p> 运行以上 SQL 语句后，重启 mysql 服务，尝试重新连接。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://tinywind.cn/2015/02/28/navicate_mysql_connect_error_10061/" data-id="cka5feml0003wgbu49lqj3a8h" class="article-share-link" data-share="baidu" data-title="mysql 远程连接 mySql数据库常见问题">分享到</a>
      

      

      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/database/" rel="tag">database</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-apc-and-memcached" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/31/apc-and-memcached/" class="article-date">
  <time datetime="2015-01-31T10:11:14.000Z" itemprop="datePublished">2015-01-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/WEB%E5%BC%80%E5%8F%91/">WEB开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/31/apc-and-memcached/">缓存apc与memcached的选择</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前看到有文章说同台服务器上APC的效率是Memcached的7倍，APC效率比Memcached高是肯定的，至于倒底快多少，我写了个小程序测试了下。</p>
<p> 代码：略去 预先把这句SQL的结果在apc和memcached中都缓存了，然后测试读写速度。</p>
<p> 在本机windows上结果： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">init&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.0341ms </span><br><span class="line">APC\_read&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.0439ms</span><br><span class="line">APC\_write&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.0920ms </span><br><span class="line">MEM\_connet&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;11.0571ms</span><br><span class="line">MEM\_read&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.2630ms</span><br><span class="line">MEM\_write&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.2270ms</span><br></pre></td></tr></table></figure>

<p>在服务器上linux上结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">init&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.0131ms</span><br><span class="line">APC\_read&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.0520ms</span><br><span class="line">APC\_write&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.0489ms</span><br><span class="line">MEM\_connet&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.0501ms </span><br><span class="line">MEM\_read&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.1030ms </span><br><span class="line">MEM\_write&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;0.0801ms</span><br></pre></td></tr></table></figure>

<p>当然反复刷新会有不同的值，这里只是取了一个较平均的值。 win下的不具备什么参考性，主要看linux上的结果。 不算connent时间，大概读写的速度apc都比memcached快上一倍左右。算上memcache_connect的时间，也就是快二倍。 APC即可以实现php文件的opcode缓存，也可以实现user cache，实在是个好东西。 </p>
<p>所以，如果当网站规模还小的时候，所有功能可以在一台服务器上完成时，那么缓存的方案首选应该就是APC，不用考虑memcached。但如果考虑到网站规模会不断扩大，这点时间的性能差异其实可以忽略不计的，就应该部署memcached了。另外，跨服务器使用memcached，最好要使用内网。不然的话，受路由的影响，memcached经常会连接超时(超过100ms)，而且会凭空多出来两倍的宽带流量。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://tinywind.cn/2015/01/31/apc-and-memcached/" data-id="cka5femjw000cgbu455i1fgv1" class="article-share-link" data-share="baidu" data-title="缓存apc与memcached的选择">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-uiueidueducd-e7-9a-84-e5-8c-ba-e5-88-ab" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/31/uiueidueducd-e7-9a-84-e5-8c-ba-e5-88-ab/" class="article-date">
  <time datetime="2015-01-31T02:17:03.000Z" itemprop="datePublished">2015-01-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E4%BA%A7%E5%93%81%E8%AE%BE%E8%AE%A1/">产品设计</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/31/uiueidueducd-e7-9a-84-e5-8c-ba-e5-88-ab/">UI/UE/ID/UED/UCD的区别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="简述："><a href="#简述：" class="headerlink" title="简述："></a>简述：</h3><p>UI (User Interface)：用户界面 UE (User Experience)：用户体验 ID (Interaction design)：交互设计 UID (User Interface Design)：用户界面设计 UED (User-Experience Design)：用户体验设计 UCD (User-Centered Design)：以用户为中心的设计</p>
<h3 id="UI：-User-Interface-用户界面"><a href="#UI：-User-Interface-用户界面" class="headerlink" title="　UI： User Interface 用户界面"></a>　UI： User Interface 用户界面</h3><p>用户界面其实是一个比较广泛的概念，指人和机器互动过程中的界面，以车为例子，方向盘、仪表盘、换档器等都属于用户界面。</p>
<ul>
<li>现在一般把屏幕上显示的图形用户界面（GUI ：Graphic User Interface）都简单称为UI。</li>
<li>现在一般所说的UI设计师，也即是指GUI设计师。</li>
</ul>
<h3 id="UE-or-UX：-User-Experience-用户体验"><a href="#UE-or-UX：-User-Experience-用户体验" class="headerlink" title="　UE or UX： User Experience 用户体验"></a>　UE or UX： User Experience 用户体验</h3><p>用户体验指用户在使用产品过程中的个人主观感受。</p>
<ul>
<li>关注用户使用前、使用过程中、使用后的整体感受，包括行为、情感、成就等各个方面。</li>
<li>用户体验是整体感受，所以不仅仅来自于用户界面，那只是其中的一部分。</li>
</ul>
<h3 id="ID：Interaction-design-交互设计"><a href="#ID：Interaction-design-交互设计" class="headerlink" title="　ID：Interaction design 交互设计"></a>　ID：Interaction design 交互设计</h3><p>交互指任何机器互动的过程，交互设计通过了解人的心理、目标和期望，使用有效的交互方式来让整个过程可用、易用。</p>
<ul>
<li>交互设计的主要对象是人机界面（UI），但不仅限于图形界面（GUI）。</li>
<li>为了达到目标，交互设计师需要关注心理、文化、人体工程等许多方面的内容。</li>
</ul>
<h3 id="UID：-User-Interface-Design-用户界面设计"><a href="#UID：-User-Interface-Design-用户界面设计" class="headerlink" title="　UID： User Interface Design 用户界面设计"></a>　UID： User Interface Design 用户界面设计</h3><p>用户界面设计（UID）不仅仅是做“漂亮的界面”，所以不可避免的会涉及到交互设计。所以广义来说，界面设计包含交互设计。</p>
<h3 id="UED：-User-Experience-Design-用户体验设计"><a href="#UED：-User-Experience-Design-用户体验设计" class="headerlink" title="　UED： User Experience Design 用户体验设计"></a>　UED： User Experience Design 用户体验设计</h3><p>用户体验是个人主观感受，但是共性的体验是可以经由良好的设计提升的。用户体验设计旨在提升用户使用产品的体验。</p>
<ul>
<li>互联网企业中，一般将视觉界面设计，交互设计和前端设计都归为用户体验设计。</li>
<li>但实际上用户体验设计贯穿于整个产品设计流程，是必然涉及到的，只是重视与否。</li>
<li>一名优秀的用户体验设计师，实际上需要对界面、交互和实现技术都有深入的理解。</li>
</ul>
<h3 id="UCD：User-Centered-Design-以用户为中心的设计"><a href="#UCD：User-Centered-Design-以用户为中心的设计" class="headerlink" title="　UCD：User Centered Design 以用户为中心的设计"></a>　UCD：User Centered Design 以用户为中心的设计</h3><p>UCD是一种设计模式，思维。强调在产品设计过程中，从用户角度出发来进行设计，用户优先。</p>
<ul>
<li>产品设计有个BTU三圈图（Business, Technique, User），即一个好的产品，应该兼顾术实现和商业盈利，技用户需求。</li>
<li>无论是B、T还是U为优先进入产品设计，都可以设计出好的产品。UCD只是强调用户优先。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://tinywind.cn/2015/01/31/uiueidueducd-e7-9a-84-e5-8c-ba-e5-88-ab/" data-id="cka5femls006mgbu442b3g46z" class="article-share-link" data-share="baidu" data-title="UI/UE/ID/UED/UCD的区别">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-php_core_lifetime" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/30/php_core_lifetime/" class="article-date">
  <time datetime="2015-01-30T01:37:06.000Z" itemprop="datePublished">2015-01-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/WEB%E5%BC%80%E5%8F%91/">WEB开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/30/php_core_lifetime/">PHP内核探索：一次请求生命周期</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>我们从未手动开启过PHP的相关进程，它是随着Apache的启动而运行的。PHP通过mod_php5.so模块和Apache相连（具体说来是SAPI，即服务器应用程序编程接口）。</strong></p>
<p><strong>PHP总共有三个模块：内核、Zend引擎、以及扩展层。</strong></p>
<p><strong>- PHP内核用来处理请求、文件流、错误处理等相关操作；</strong></p>
<p><strong>- Zend引擎（ZE）用以将源文件转换成机器语言，然后在虚拟机上运行它；</strong></p>
<p><strong>- 扩展层是一组函数、类库和流，PHP使用它们来执行一些特定的操作。</strong></p>
<p><strong>比如，我们需要mysql扩展来连接MySQL数据库； 当ZE执行程序时可能会需要连接若干扩展，这时ZE将控制权交给扩展，等处理完特定任务后再返还；最后，ZE将程序运行结果返回给PHP内核，它再将结果传送给SAPI层，最终输出到浏览器上。</strong></p>
<p><strong>深入探讨</strong></p>
<p><strong>真正的内部运行过程没有这么简单。以上过程只是个简略版，让我们再深入挖掘一下，看看幕后还发生了些什么。</strong></p>
<p><strong>Apache启动后，PHP解释程序也随之启动。PHP的启动过程有两步：</strong></p>
<p><strong>- 第一步是初始化一些环境变量，这将在整个SAPI生命周期中发生作用；</strong></p>
<p><strong>- 第二步是生成只针对当前请求的一些变量设置。</strong></p>
<p><strong>PHP启动第一步</strong></p>
<p><strong>不清楚什么第一第二步是什么？别担心，我们接下来详细讨论一下。让我们先看看第一步，也是最主要的一步。要记住的是，第一步的操作在任何请求到达之前就发生了。</strong></p>
<p><strong>启动Apache后，PHP解释程序也随之启动。PHP调用各个扩展的MINIT方法，从而使这些扩展切换到可用状态。看看php.ini文件里打开了哪些扩展吧。 MINIT的意思是“模块初始化”。各个模块都定义了一组函数、类库等用以处理其他请求。</strong></p>
<p><strong>一个典型的MINIT方法如下：</strong></p>
<p><strong>PHP_MINIT_FUNCTION(extension_name){ /* Initialize functions, classes etc */ }</strong></p>
<p><strong>PHP启动第二步</strong></p>
<p><strong>当一个页面请求发生时，SAPI层将控制权交给PHP层。于是PHP设置了用于回复本次请求所需的环境变量。同时，它还建立一个变量表，用来存放执行过程 中产生的变量名和值。PHP调用各个模块的RINIT方法，即“请求初始化”。一个经典的例子是Session模块的RINIT，如果在php.ini中 启用了Session模块，那在调用该模块的RINIT时就会初始化$_SESSION变量，并将相关内容读入；RINIT方法可以看作是一个准备过程， 在程序执行之间就会自动启动。 一个典型的RINIT方法如下：</strong></p>
<p><strong>PHP_RINIT_FUNCTION(extension_name) { /* Initialize session variables,pre-populate variables, redefine global variables etc */ }</strong></p>
<p><strong>PHP关闭第一步</strong></p>
<p><strong>如同PHP启动一样，PHP的关闭也分两步。一旦页面执行完毕（无论是执行到了文件末尾还是用exit或die函数中止），PHP就会启动清理程序。它会按顺序调用各个模块的RSHUTDOWN方法。 RSHUTDOWN用以清除程序运行时产生的符号表，也就是对每个变量调用unset函数。</strong></p>
<p><strong>一个典型的RSHUTDOWN方法如下：</strong></p>
<p><strong>PHP_RSHUTDOWN_FUNCTION(extension_name) { /* Do memory management, unset all variables used in the last PHP call etc */ }</strong></p>
<p><strong>PHP关闭第二步</strong></p>
<p><strong>最后，所有的请求都已处理完毕，SAPI也准备关闭了，PHP开始执行第二步：PHP调用每个扩展的MSHUTDOWN方法，这是各个模块最后一次释放内存的机会。</strong></p>
<p><strong>一个典型的RSHUTDOWN方法如下：</strong></p>
<p><strong>PHP_MSHUTDOWN_FUNCTION(extension_name) { /* Free handlers and persistent memory etc */ }</strong></p>
<p><strong>这样，整个PHP生命周期就结束了。要注意的是，只有在服务器没有请求的情况下才会执行“启动第一步”和“关闭第二步”。</strong></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://tinywind.cn/2015/01/30/php_core_lifetime/" data-id="cka5feml9004ugbu463b5f5v9" class="article-share-link" data-share="baidu" data-title="PHP内核探索：一次请求生命周期">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-ajax_example" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/13/ajax_example/" class="article-date">
  <time datetime="2015-01-13T10:36:05.000Z" itemprop="datePublished">2015-01-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/WEB%E5%BC%80%E5%8F%91/">WEB开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/13/ajax_example/">jQuery Ajax 实例 全解析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>1. load</strong>( url, [data], [callback] ) ：载入远程 HTML 文件代码并插入至 DOM 中。 *<em>url *</em>(String) : 请求的HTML页的URL地址。 *<em>data *</em>(Map) : (可选参数) 发送至服务器的 key/value 数据。 *<em>callback *</em>(Callback) : (可选参数) 请求完成时(不需要是success的)的回调函数。 这个方法默认使用 GET 方式来传递的，如果[data]参数有传递数据进去，就会自动转换为POST方式的。jQuery 1.2 中，可以指定选择符，来筛选载入的 HTML 文档，DOM 中将仅插入筛选出的 HTML 代码。语法形如 “url #some &gt; selector”。 这个方法可以很方便的动态加载一些HTML文件，例如表单。 示例代码：</p>
<p>$(“.ajax.load”).load(“<a href="http://www.cnblogs.com/yeer/archive/2009/06/10/1500682.html" target="_blank" rel="noopener">http://www.cnblogs.com/yeer/archive/2009/06/10/1500682.html</a> .post”,<br>function (responseText, textStatus, XMLHttpRequest){<br>this;//在这里this指向的是当前的DOM对象，即$(“.ajax.load”)[0]<br>//alert(responseText);//请求返回的内容//alert(textStatus);//请求状态：success，error//alert(XMLHttpRequest);//XMLHttpRequest对象<br>});</p>
<p>这里将显示结果。</p>
<p>  <strong>注：</strong>不知道为什么URL写绝对路径在FF下会出错，知道的麻烦告诉下。下面的get()和post()示例使用的是绝对路径，所以在FF下你将会出错并不会看到返回结果。还有get()和post()示例都是跨域调用的，发现传上来后没办法获取结果，所以把运行按钮去掉了。   <strong>2. jQuery.get</strong>( url, [data], [callback] )：使用GET方式来进行异步请求</p>
<blockquote>
<p>参数： *<em>url *</em>(String) :  发送请求的URL地址. *<em>data *</em>(Map) : (可选) 要发送给服务器的数据，以 Key/value 的键值对形式表示，会做为QueryString附加到请求URL中。 *<em>callback *</em>(Function) : (可选) 载入成功时回调函数(只有当Response的返回状态是success才是调用该方法)。</p>
</blockquote>
<p>这是一个简单的 GET 请求功能以取代复杂 $.ajax 。请求成功时可调用回调函数。如果需要在出错时执行函数，请使用 $.ajax。示例代码：</p>
<p> $.get(“./Ajax.aspx”, {Action:”get”,Name:”lulu”}, function (data, textStatus){<br>//返回的 data 可以是 xmlDoc, jsonObj, html, text, 等等.this; // 在这里this指向的是Ajax请求的选项配置信息，请参考下图alert(data);<br>//alert(textStatus);//请求状态：success，error等等。<br>当然这里捕捉不到error，因为error的时候根本不会运行该回调函数//alert(this);<br>});</p>
<p>点击发送请求： jQuery.get()回调函数里面的 this ，指向的是Ajax请求的选项配置信息： <a href="http://images.cnblogs.com/cnblogs_com/QLeelulu/WindowsLiveWriter/jQueryAjax_B934/image_4.png" target="_blank" rel="noopener"><img src="file:///C:/Users/CUIXU_~1/AppData/Local/Temp/enhtmlclip/image_thumb_1.png" alt="image"></a>   <strong>3. jQuery.post</strong>( url, [data], [callback], [type] ) ：使用POST方式来进行异步请求  </p>
<blockquote>
<p>参数： <strong>url *<em>(String) : 发送请求的URL地址. *</em>data *<em>(Map) : (可选) 要发送给服务器的数据，以 Key/value 的键值对形式表示。 *</em>callback *<em>(Function) : (可选) 载入成功时回调函数(只有当Response的返回状态是success才是调用该方法)。 *</em>type</strong> (String) : (可选)官方的说明是：Type of data to be sent。其实应该为客户端请求的类型(JSON,XML,等等)</p>
</blockquote>
<p>这是一个简单的 POST 请求功能以取代复杂 $.ajax 。请求成功时可调用回调函数。如果需要在出错时执行函数，请使用 $.ajax。示例代码： Ajax.aspx：</p>
<p>Response.ContentType = “application/json”;<br>Response.Write(“{result: ‘“ + Request[“Name”] + “,你好！(这消息来自服务器)’}”);</p>
<p>jQuery 代码：</p>
<p>$.post(“Ajax.aspx”, { Action: “post”, Name: “lulu” },<br>function (data, textStatus){<br>// data 可以是 xmlDoc, jsonObj, html, text, 等等.//this; // 这个Ajax请求的选项配置信息，请参考jQuery.get()说到的thisalert(data.result);<br>}, “json”);</p>
<p>点击提交： 这里设置了请求的格式为”json”： <a href="http://images.cnblogs.com/cnblogs_com/QLeelulu/WindowsLiveWriter/jQueryAjax_B934/image_6.png" target="_blank" rel="noopener"><img src="file:///C:/Users/CUIXU_~1/AppData/Local/Temp/enhtmlclip/image_thumb_2.png" alt="image"></a> 如果你设置了请求的格式为”json”，此时你没有设置Response回来的ContentType 为：Response.ContentType = “application/json”; 那么你将无法捕捉到返回的数据。 注意一下，alert(data.result); 由于设置了Accept报头为“json”，这里返回的data就是一个对象，并不需要用eval()来转换为对象。   <strong>4. jQuery.getScript</strong>( url, [callback] ) : 通过 GET 方式请求载入并执行一个 JavaScript 文件。</p>
<blockquote>
<h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><p>*<em>url *</em>(String) : 待载入 JS 文件地址。 *<em>callback *</em>(Function) : (可选) 成功载入后回调函数。</p>
</blockquote>
<p>jQuery 1.2 版本之前，getScript 只能调用同域 JS 文件。 1.2中，您可以跨域调用 JavaScript 文件。注意：Safari 2 或更早的版本不能在全局作用域中同步执行脚本。如果通过 getScript 加入脚本，请加入延时函数。 这个方法可以用在例如当只有编辑器focus()的时候才去加载编辑器需要的JS文件.下面看一些示例代码： 加载并执行 test.js。<strong>jQuery 代码:</strong> $.getScript(“test.js”);</p>
<hr>
<p>加载并执行 AjaxEvent.js ，成功后显示信息。 <strong>jQuery 代码:</strong></p>
<p>$.getScript(“AjaxEvent.js”, function(){<br>alert(“AjaxEvent.js 加载完成并执行完成.你再点击上面的Get或Post按钮看看有什么不同？”);<br>});</p>
<p>加载完后请重新点击一下上面的 Load 请求看看有什么不同。 <strong>jQuery Ajax 事件</strong> Ajax请求会产生若干不同的事件，我们可以订阅这些事件并在其中处理我们的逻辑。在jQuery这里有两种Ajax事件：局部事件 和 全局事件。 <strong>局部事件</strong>就是在每次的Ajax请求时在方法内定义的，例如：</p>
<p> $.ajax({<br>beforeSend: function(){<br>// Handle the beforeSend event<br>},<br>complete: function(){<br>// Handle the complete event<br>}<br>// …<br>});</p>
<p><strong>全局事件</strong>是每次的Ajax请求都会触发的，它会向DOM中的所有元素广播，在上面 getScript() 示例中加载的脚本就是全局Ajax事件。全局事件可以如下定义：</p>
<p> $(“#loading”).bind(“ajaxSend”, function(){<br>$(this).show();<br>}).bind(“ajaxComplete”, function(){<br>$(this).hide();<br>});</p>
<p>或者：</p>
<p> $(“#loading”).ajaxStart(function(){<br>$(this).show();<br>}); </p>
<p>我们可以在特定的请求将全局事件禁用，只要设置下 global 选项就可以了：</p>
<p> $.ajax({<br>url: “test.html”,<br>global: false,// 禁用全局Ajax事件.// …<br>});</p>
<p>下面是jQuery官方给出的完整的Ajax事件列表：</p>
<ul>
<li><p><strong>ajaxStart</strong> (Global Event) This event is broadcast if an Ajax request is started and no other Ajax requests are currently running.</p>
<ul>
<li><strong>beforeSend</strong> (Local Event) This event, which is triggered before an Ajax request is started, allows you to modify the XMLHttpRequest object (setting additional headers, if need be.)</li>
<li><strong>ajaxSend</strong> (Global Event) This global event is also triggered before the request is run.</li>
<li><strong>success</strong> (Local Event) This event is only called if the request was successful (no errors from the server, no errors with the data).</li>
<li><strong>ajaxSuccess</strong> (Global Event) This event is also only called if the request was successful.</li>
<li><strong>error</strong> (Local Event) This event is only called if an error occurred with the request (you can never have both an error and a success callback with a request).</li>
<li><strong>ajaxError</strong> (Global Event) This global event behaves the same as the local error event.</li>
<li><strong>complete</strong> (Local Event) This event is called regardless of if the request was successful, or not. You will always receive a complete callback, even for synchronous requests.</li>
<li><strong>ajaxComplete</strong> (Global Event) This event behaves the same as the complete event and will be triggered every time an Ajax request finishes.</li>
</ul>
</li>
<li><p><strong>ajaxStop</strong> (Global Event) This global event is triggered if there are no more Ajax requests being processed.具体的全局事件请参考API文档。 好了，下面开始说jQuery里面功能最强的Ajax请求方法 $.ajax();   <strong>jQuery.ajax</strong>( options ) : 通过 HTTP 请求加载远程数据 这个是jQuery 的底层 AJAX 实现。简单易用的高层实现见 $.get, $.post 等。 $.ajax() 返回其创建的 XMLHttpRequest 对象。大多数情况下你无需直接操作该对象，但特殊情况下可用于手动终止请求。 <strong>注意：</strong> 如果你指定了 dataType 选项，请确保服务器返回正确的 MIME 信息，(如 xml 返回 “text/xml”)。错误的 MIME 类型可能导致不可预知的错误。见 <a href="http://docs.jquery.com/Specifying_the_Data_Type_for_AJAX_Requests" target="_blank" rel="noopener">Specifying the Data Type for AJAX Requests</a> 。 当设置 datatype 类型为 ‘script’ 的时候，所有的远程(不在同一个域中)POST请求都回转换为GET方式。 $.ajax() 只有一个参数：参数 key/value 对象，包含各配置及回调函数信息。详细参数选项见下。 jQuery 1.2 中，您可以跨域加载 JSON 数据，使用时需将数据类型设置为 <a href="http://bob.pythonmac.org/archives/2005/12/05/remote-json-jsonp/" target="_blank" rel="noopener">JSONP</a>。使用 <a href="http://bob.pythonmac.org/archives/2005/12/05/remote-json-jsonp/" target="_blank" rel="noopener">JSONP</a> 形式调用函数时，如 “myurl?callback=?” jQuery 将自动替换 ? 为正确的函数名，以执行回调函数。数据类型设置为 “jsonp” 时，jQuery 将自动调用回调函数。(这个我不是很懂) 参数列表：</p>
<p>参数名</p>
<p>类型</p>
<p>描述</p>
<p><strong>url</strong></p>
<p>String</p>
<p>(默认: 当前页地址) 发送请求的地址。</p>
<p><strong>type</strong></p>
<p>String</p>
<p>(默认: “GET”) 请求方式 (“POST” 或 “GET”)， 默认为 “GET”。注意：其它 HTTP 请求方法，如 PUT 和 DELETE 也可以使用，但仅部分浏览器支持。</p>
<p><strong>timeout</strong></p>
<p>Number</p>
<p>设置请求超时时间（毫秒）。此设置将覆盖全局设置。</p>
<p><strong>async</strong></p>
<p>Boolean</p>
<p>(默认: true) 默认设置下，所有请求均为异步请求。如果需要发送同步请求，请将此选项设置为 false。注意，同步请求将锁住浏览器，用户其它操作必须等待请求完成才可以执行。</p>
<p><strong>beforeSend</strong></p>
<p>Function</p>
<p>发送请求前可修改 XMLHttpRequest 对象的函数，如添加自定义 HTTP 头。XMLHttpRequest 对象是唯一的参数。</p>
<p>function (XMLHttpRequest) {<br>​         this; // the options for this ajax request<br>​         }</p>
<p><strong>cache</strong></p>
<p>Boolean</p>
<p>(默认: true) jQuery 1.2 新功能，设置为 false 将不会从浏览器缓存中加载请求信息。</p>
<p><strong>complete</strong></p>
<p>Function</p>
<p>请求完成后回调函数 (请求成功或失败时均调用)。参数： XMLHttpRequest 对象，成功信息字符串。</p>
<p>function (XMLHttpRequest, textStatus) {<br>​         this; // the options for this ajax request<br>​         }</p>
<p><strong>contentType</strong></p>
<p>String</p>
<p>(默认: “application/x-www-form-urlencoded”) 发送信息至服务器时内容编码类型。默认值适合大多数应用场合。</p>
<p><strong>data</strong></p>
<p>Object, String</p>
<p>发送到服务器的数据。将自动转换为请求字符串格式。GET 请求中将附加在 URL 后。查看 processData 选项说明以禁止此自动转换。必须为 Key/Value 格式。如果为数组，jQuery 将自动为不同值对应同一个名称。如 {foo:[“bar1”, “bar2”]} 转换为 ‘&amp;foo=bar1&amp;foo=bar2’。</p>
<p><strong>dataType</strong></p>
<p>String</p>
<p>预期服务器返回的数据类型。如果不指定，jQuery 将自动根据 HTTP 包 MIME 信息返回 responseXML 或 responseText，并作为回调函数参数传递，可用值: “xml”: 返回 XML 文档，可用 jQuery 处理。 “html”: 返回纯文本 HTML 信息；包含 script 元素。 “script”: 返回纯文本 JavaScript 代码。不会自动缓存结果。 “json”: 返回 JSON 数据 。 “jsonp”: <a href="http://bob.pythonmac.org/archives/2005/12/05/remote-json-jsonp/" target="_blank" rel="noopener">JSONP</a> 格式。使用 <a href="http://bob.pythonmac.org/archives/2005/12/05/remote-json-jsonp/" target="_blank" rel="noopener">JSONP</a> 形式调用函数时，如 “myurl?callback=?” jQuery 将自动替换 ? 为正确的函数名，以执行回调函数。</p>
<p><strong>error</strong></p>
<p>Function</p>
<p>(默认: 自动判断 (xml 或 html)) 请求失败时将调用此方法。这个方法有三个参数：XMLHttpRequest 对象，错误信息，（可能）捕获的错误对象。</p>
<p>function (XMLHttpRequest, textStatus, errorThrown) {<br>​         // 通常情况下textStatus和errorThown只有其中一个有值<br>​         this; // the options for this ajax request<br>​         }</p>
<p><strong>global</strong></p>
<p>Boolean</p>
<p>(默认: true) 是否触发全局 AJAX 事件。设置为 false 将不会触发全局 AJAX 事件，如 ajaxStart 或 ajaxStop 。可用于控制不同的Ajax事件</p>
<p><strong>ifModified</strong></p>
<p>Boolean</p>
<p>(默认: false) 仅在服务器数据改变时获取新数据。使用 HTTP 包 Last-Modified 头信息判断。</p>
<p><strong>processData</strong></p>
<p>Boolean</p>
<p>(默认: true) 默认情况下，发送的数据将被转换为对象(技术上讲并非字符串) 以配合默认内容类型 “application/x-www-form-urlencoded”。如果要发送 DOM 树信息或其它不希望转换的信息，请设置为 false。</p>
<p><strong>success</strong></p>
<p>Function</p>
<p>请求成功后回调函数。这个方法有两个参数：服务器返回数据，返回状态</p>
<p>function (data, textStatus) {<br>​         // data could be xmlDoc, jsonObj, html, text, etc…<br>​         this; // the options for this ajax request<br>​         }</p>
<p>这里有几个Ajax事件参数：<strong>beforeSend **，</strong>success <strong>，</strong>complete ，error 。**我们可以定义这些事件来很好的处理我们的每一次的Ajax请求。注意一下，这些Ajax事件里面的 this 都是指向Ajax请求的选项信息的(请参考说 get() 方法时的this的图片)。 请认真阅读上面的参数列表，如果你要用jQuery来进行Ajax开发，那么这些参数你都必需熟知的。</p>
<h4 id="示例代码，获取博客园首页的文章题目："><a href="#示例代码，获取博客园首页的文章题目：" class="headerlink" title="示例代码，获取博客园首页的文章题目："></a>示例代码，获取博客园首页的文章题目：</h4><p>$.ajax({<br>type: “get”,<br>url: “<a href="http://www.cnblogs.com/rss&quot;" target="_blank" rel="noopener">http://www.cnblogs.com/rss&quot;</a>,<br>beforeSend: function(XMLHttpRequest){<br>//ShowLoading();<br>},<br>success: function(data, textStatus){<br>$(“.ajax.ajaxResult”).html(“”);<br>$(“item”,data).each(function(i, domEle){<br>$(“.ajax.ajaxResult”).append(“<li>“+$(domEle).children(“title”).text()+”</li>“);<br>});<br>},<br>complete: function(XMLHttpRequest, textStatus){<br>//HideLoading();<br>},<br>error: function(){<br>//请求出错处理<br>}<br>});</p>
<p>这里将显示首页文章列表。     <strong>其他</strong> <strong>jQuery.ajaxSetup</strong>( options ) : 设置全局 AJAX 默认选项。 设置 AJAX 请求默认地址为 “/xmlhttp/“，禁止触发全局 AJAX 事件，用 POST 代替默认 GET 方法。其后的 AJAX 请求不再设置任何选项参数。 <strong>jQuery 代码:</strong></p>
<p>$.ajaxSetup({<br>url: “/xmlhttp/“,<br>global: false,<br>type: “POST”<br>});<br>$.ajax({ data: myData });</p>
<p>  <strong>serialize() 与 serializeArray()</strong> serialize() : 序列表表格内容为字符串。 serializeArray() : 序列化表格元素 (类似 ‘.serialize()’ 方法) 返回 JSON 数据结构数据。 示例： HTML代码：</p>
<p id="results"><b>Results: </b> </p><form><select name="single"><option>Single</option><option>Single2</option></select><select name="multiple" multiple="multiple"><option selected="selected">Multiple</option><option>Multiple2</option><option selected="selected">Multiple3</option></select><br/><input type="checkbox" name="check" value="check1"/> check1
<input type="checkbox" name="check" value="check2" 

<p>checked=”checked”/&gt; check2<br>&lt;input type=”radio” name=”radio” value=”radio1” </p>
<p>checked=”checked”/&gt; radio1<br><input type="radio" name="radio" value="radio2"/> radio2</p>
</form>
</li>
<li><p><a href="http://images.cnblogs.com/cnblogs_com/yeer/image_thumb_3.png" target="_blank" rel="noopener"><img src="file:///C:/Users/CUIXU_~1/AppData/Local/Temp/enhtmlclip/image_thumb_3.png" alt=""></a> <strong>serializeArray() 结果为：</strong> <a href="http://images.cnblogs.com/cnblogs_com/yeer/image_thumb_4.png" target="_blank" rel="noopener"><img src="file:///C:/Users/CUIXU_~1/AppData/Local/Temp/enhtmlclip/image_thumb_4.png" alt="image"></a></p>
</li>
<li><p>以上转自：<a href="http://www.cnblogs.com/yeer/archive/2009/07/23/1529460.html" target="_blank" rel="noopener">http://www.cnblogs.com/yeer/archive/2009/07/23/1529460.html</a></p>
</li>
</ul>
<p>博客园大道至简 <a href="http://www.cnblogs.com/jams742003/" target="_blank" rel="noopener">http://www.cnblogs.com/jams742003/</a> 转载请注明：博客园</p>
<p>分类: <a href="http://www.cnblogs.com/jams742003/category/142842.html" target="_blank" rel="noopener">Ajax</a></p>
<p>绿色通道： 好文要顶 关注我 收藏该文<a href="http://space.cnblogs.com/msg/send/%e6%a2%85%e6%a1%a6" target="_blank" rel="noopener">与我联系</a> <img src="file:///C:/Users/CUIXU_~1/AppData/Local/Temp/enhtmlclip/icon_weibo_24.png" alt=""></p>
<p><a href="http://home.cnblogs.com/u/jams742003/" target="_blank" rel="noopener"><img src="file:///C:/Users/CUIXU_~1/AppData/Local/Temp/enhtmlclip/u33655.jpg" alt=""></a></p>
<p><a href="http://home.cnblogs.com/u/jams742003/" target="_blank" rel="noopener">梅桦</a> <a href="http://home.cnblogs.com/u/jams742003/followees" target="_blank" rel="noopener">关注 - 13</a> <a href="http://home.cnblogs.com/u/jams742003/followers" target="_blank" rel="noopener">粉丝 - 248</a></p>
<p>+加关注</p>
<p>2</p>
<p>0</p>
<p>(请您对文章做出评价)</p>
<p><a href="http://www.cnblogs.com/jams742003/archive/2009/09/16/1567771.html" target="_blank" rel="noopener">« </a>上一篇：<a href="http://www.cnblogs.com/jams742003/archive/2009/09/16/1567771.html" target="_blank" rel="noopener" title="发布于2009-09-16 14:56">Jquery ajax参数设置</a> <a href="http://www.cnblogs.com/jams742003/archive/2009/09/16/1567885.html" target="_blank" rel="noopener">» </a>下一篇：<a href="http://www.cnblogs.com/jams742003/archive/2009/09/16/1567885.html" target="_blank" rel="noopener" title="发布于2009-09-16 16:15">jquery Ajax示例</a></p>
<p>posted @ 2009-09-16 15:23 <a href="http://www.cnblogs.com/jams742003/" target="_blank" rel="noopener">梅桦</a> 阅读(3318) 评论(0) <a href="http://i.cnblogs.com/EditPosts.aspx?postid=1567800" target="_blank" rel="noopener">编辑</a> <a href="http://www.cnblogs.com/jams742003/archive/2009/09/16/1567800.html#" target="_blank" rel="noopener">收藏</a></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://tinywind.cn/2015/01/13/ajax_example/" data-id="cka5femjx000egbu447ovflgv" class="article-share-link" data-share="baidu" data-title="jQuery Ajax 实例 全解析">分享到</a>
      

      

      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-redirect-and-dispatch-in-phalcon" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/13/redirect-and-dispatch-in-phalcon/" class="article-date">
  <time datetime="2015-01-13T02:51:40.000Z" itemprop="datePublished">2015-01-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/WEB%E5%BC%80%E5%8F%91/">WEB开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/13/redirect-and-dispatch-in-phalcon/">redirect and dispatch in phalcon?</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Broadly speaking, <code>Redirect</code> will do an http redirection (with the header location). It means that the browser of the client will change the page. It processes to a new routing (it can also be used to go to another website) and the actual script will end. Whereas <code>Forward</code> is internal, the browser of the client wont see any difference, you just execute a different controller.The dispatch loop allows the user to forward the execution flow to another controller/action. This is very useful to check if the user can access to certain options, redirect users to other screens or simply reuse code. But, Keep in mind that making a “forward” is not the same as making an HTTP redirect. Although they apparently got the same result. The “forward” doesn’t reload the current page, all the redirection occurs in a single request, while the HTTP redirect needs two requests to complete the process. Similar analogy can be shown in JSP as well, The <code>sendRedirect(String path)</code> method of <code>HttpServletResponse</code> will tell the client that it should send a request to the specified path. So the client will build a new request and submit it to the server. The client’s history will be updated so the forward and back buttons will work. This method is useful for redirecting to pages on other servers and domains. The forward method of <code>RequestDispatcher</code> will forward the <code>ServletRequest</code> and <code>ServletResponse</code>that it is passed to the path that was specified in <code>getRequestDispatcher(String path).</code> The response will not be sent back to the client and so the client will not know about this change of resource on the server. This method is useful for communicating between server resources, (servlet to servlet). This method is faster than using <code>sendRedirect</code> as no network round trip to the server and back is required.   answered by <a href="http://stackoverflow.com/users/3534854/ricoricochet" target="_blank" rel="noopener">RicoRicochet</a> .</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://tinywind.cn/2015/01/13/redirect-and-dispatch-in-phalcon/" data-id="cka5femld0055gbu4cm382prj" class="article-share-link" data-share="baidu" data-title="redirect and dispatch in phalcon?">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-windows-installer" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/09/windows-installer/" class="article-date">
  <time datetime="2015-01-09T02:19:06.000Z" itemprop="datePublished">2015-01-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/">未分类</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/09/windows-installer/">windows installer</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>The feature you are trying to use is on a network resource that is unavailable   … 尝试各种百度的方法无果， 解决办吧：下载一个名叫Windows Installer CleanUp Utility的工具，是微软官方出的一个工具，安装后清理掉和不能安装的软件相关的东西，然后再安装软件，一切正常。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://tinywind.cn/2015/01/09/windows-installer/" data-id="cka5femly0073gbu43zn3cbkz" class="article-share-link" data-share="baidu" data-title="windows installer">分享到</a>
      

      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-local_can_not_connect_to_ubuntu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/08/local_can_not_connect_to_ubuntu/" class="article-date">
  <time datetime="2015-01-08T08:15:54.000Z" itemprop="datePublished">2015-01-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/WEB%E5%BC%80%E5%8F%91/">WEB开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/08/local_can_not_connect_to_ubuntu/">Xshell 无法链接本地vmware中的ubuntu</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>用Xshell 无法链接本地vmware中的ubuntu 系统，相互都能ping通。</p>
<p>在ubuntu中 尝试ssh localhost ，得到ssh : connect to host localhost port 22: Connection refused。</p>
<p>说明没有安装sshd, 也就是openssh-server.</p>
<p>安装，sudo apt-get install openssh-server</p>
<p>然后ssh localhost， 可以链接。</p>
<p>再使用Xshell链接ubuntu,OK.</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://tinywind.cn/2015/01/08/local_can_not_connect_to_ubuntu/" data-id="cka5femkt0035gbu4gi6h30zj" class="article-share-link" data-share="baidu" data-title="Xshell 无法链接本地vmware中的ubuntu">分享到</a>
      

      

      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mvc_design_pattern" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/05/mvc_design_pattern/" class="article-date">
  <time datetime="2015-01-05T15:08:38.000Z" itemprop="datePublished">2015-01-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/">未分类</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/05/mvc_design_pattern/">论PHP框架设计模式及MVC的缺陷</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目前主流的PHP框架设计模式均为MVC模式，比如yii或codeigniter，均是由控制器接收页面请求，并沟通模型与视图的交互。如果我们把网站整体看作一个矩阵，把网站接收用户请求并处理看作是网站的竖向，而把网站的每一个模块（比如文章模块，投票模块，论坛模块等）看作是网站的横向。那么我们可以画出这样的图：</p>
<pre><code>模块1  模块2 模块3 用户请求 ---------------------- |      |      | |      |      | 数据处理 ---------------------- |      |      | |      |      | 页面呈现 ----------------------MVC的缺陷 MVC模式，侧重于竖向即请求、处理、呈现之间的协调，而忽略了模块之间的协调，从图里我们可以看出，当用户发起请求的时候，由哪个模块来处理用户的请求已经确定了，这就使模块之间呈现非常强的独立性，这该怎么理解呢，举个例子来说。 假设现在，你有两个模块，一个是新闻模块，一个是图片模块，新闻模块展示一些新闻文章，图片模块用来展示图片。 如果用MVC,我们这样实现：定义两个控制器news,pic,两个模型news\_model,pic\_model,两个视图 news\_view,pic\_view,当有用户请求news控制器时，先调用news\_model取得需要的数据，再用这些数据渲染 news\_view，最后呈现给用户。 有一天，你的领导忽然有了新想法，HEY,伙计，新闻模块只显示新闻太单调，让新闻模块，能显示图片模块里最热门的图片。这下不好办 了，new\_model里没有图片相关的模型，news\_view里也没有显示图片列表的视图。你有解决办法？把显示图片列表相关的模型和视图分别复制一 份到news的模型和视图？不，这么做不好，如果我现在全站都要显示热门图片列表你怎么办？还复制吗？不可以的。后期维护会累死人。 在codeigniter框架里，有更好一点儿的解决办法，就是把显示图片列表这个功能做成一个library，每需要的地方，调用library就可 以，因为library有与控制器相同的沟通模型视图的功能。但这会带来一个新的问题：数据共享，如果页面分割成不同的library来实现，不同的 library的数据很难共享，library之间是完全独立的。 现在来看，这一切的一切都是因为mvc模式注重竖向的沟通，而忽略了横向的沟通，完全割裂了模块之间的关系。 模块沟通 TextPattern(简称TXP)是一个小型的BLOG系统，它最大的特点是注重模块之间的沟通，完全模糊了不同模块间的界限，对与用户的一个请 求，TXP完全没必要知道用户请求的是什么模块，新闻还是图片，只需要知道请求的页面要呈现些什么功能点。每一个小功能点都是完全独立的。 这是一种视图驱动的模式，接收到用户请求后，首先取到要请求的视图，视图文件再调用不同的功能点，这样就弱化了模块之间独立性。通俗点儿说：用户想看什么，你就给什么，不要管它是不是同一个模块，是不是有关系。wordpress也是基于视图驱动的模式的。 HMVC 层叠式的MVC,这是MVC模式的升级版本。首先把系统按功能点分，每个功能点的实现再采用MVC模式。HMVC同时兼顾了横向和竖向的沟通。 我所认为理想的模式 基于视图驱动的HMVC，基于视图驱动，就是以用户为基础，呈现用户想看到，以需求为驱动才是正确的。HMVC保证了代码的重用，易于维护。 视图驱动，可以借鉴WORDPRESS的实现，因为wordpress的模板开发、替换很容易；横向沟通的实现可以借鉴TXP;竖向沟通就是典型的MVC了。</code></pre>
      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://tinywind.cn/2015/01/05/mvc_design_pattern/" data-id="cka5femkw003jgbu442wcekva" class="article-share-link" data-share="baidu" data-title="论PHP框架设计模式及MVC的缺陷">分享到</a>
      

      

      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Development/" rel="tag">Development</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/9/">&amp;laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span>
  </nav>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/OOP/">OOP</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">PHP最佳实践</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ROBOTC/">ROBOTC</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEB%E5%BC%80%E5%8F%91/">WEB开发</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/phalcon/">phalcon</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/phalcon/WEB%E5%BC%80%E5%8F%91/">WEB开发</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%A7%E5%93%81%E8%AE%BE%E8%AE%A1/">产品设计</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/">前端技术</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span class="category-list-count">7</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%9C%8D%E5%8A%A1%E5%99%A8/">服务器</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/">未分类</a><span class="category-list-count">29</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/">版本管理</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/" rel="tag">Database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Pattern/" rel="tag">Design Pattern</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Development/" rel="tag">Development</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ERP%E7%B3%BB%E7%BB%9F/" rel="tag">ERP系统</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/English/" rel="tag">English</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend/" rel="tag">Frontend</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IE%E5%85%BC%E5%AE%B9/" rel="tag">IE兼容</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Laravel/" rel="tag">Laravel</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OOP/" rel="tag">OOP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/" rel="tag">PHP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Programming-paradigm/" rel="tag">Programming paradigm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ROBOTC/" rel="tag">ROBOTC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/" rel="tag">SEO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/" rel="tag">database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/development/" rel="tag">development</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/laravel/" rel="tag">laravel</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/" rel="tag">php</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stdClass-to-array/" rel="tag">stdClass to array</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ttfb/" rel="tag">ttfb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B9%90%E5%8D%9A%E5%A3%AB/" rel="tag">乐博士</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%82%E6%96%87/" rel="tag">杂文</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%82%E8%B0%88/" rel="tag">杂谈</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F/" rel="tag">编程范式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a><span class="tag-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Database/" style="font-size: 10px;">Database</a> <a href="/tags/Design-Pattern/" style="font-size: 15px;">Design Pattern</a> <a href="/tags/Development/" style="font-size: 10px;">Development</a> <a href="/tags/ERP%E7%B3%BB%E7%BB%9F/" style="font-size: 15px;">ERP系统</a> <a href="/tags/English/" style="font-size: 10px;">English</a> <a href="/tags/Frontend/" style="font-size: 10px;">Frontend</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/IE%E5%85%BC%E5%AE%B9/" style="font-size: 10px;">IE兼容</a> <a href="/tags/Laravel/" style="font-size: 15px;">Laravel</a> <a href="/tags/OOP/" style="font-size: 10px;">OOP</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/Programming-paradigm/" style="font-size: 10px;">Programming paradigm</a> <a href="/tags/ROBOTC/" style="font-size: 10px;">ROBOTC</a> <a href="/tags/SEO/" style="font-size: 10px;">SEO</a> <a href="/tags/database/" style="font-size: 10px;">database</a> <a href="/tags/development/" style="font-size: 10px;">development</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/laravel/" style="font-size: 15px;">laravel</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/stdClass-to-array/" style="font-size: 10px;">stdClass to array</a> <a href="/tags/ttfb/" style="font-size: 10px;">ttfb</a> <a href="/tags/%E4%B9%90%E5%8D%9A%E5%A3%AB/" style="font-size: 10px;">乐博士</a> <a href="/tags/%E6%9D%82%E6%96%87/" style="font-size: 10px;">杂文</a> <a href="/tags/%E6%9D%82%E8%B0%88/" style="font-size: 10px;">杂谈</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">笔记</a> <a href="/tags/%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F/" style="font-size: 10px;">编程范式</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 20px;">设计模式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a><span class="archive-list-count">8</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/05/26/auto-deploy-with-webhook/">通过GitHub的Webhook 实现推送的自动更新</a>
          </li>
        
          <li>
            <a href="/2020/05/26/upgrade-php-version/">Ubuntu升级PHP到最新版本</a>
          </li>
        
          <li>
            <a href="/2020/05/13/update-node-to-latest/">升级更新 node 版本</a>
          </li>
        
          <li>
            <a href="/2020/05/13/npm-error-caused-by-node/">node版本导致的 npm 报错</a>
          </li>
        
          <li>
            <a href="/2020/05/13/github-api-with-php-curl/">PHP 调用 Github API(v3)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://tinywind.cn" target="_blank">vex中文社区</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Nathan<br>
      Powered by <a href="//hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>
  function SetShareData(cmd, config) {
    if (shareDataTitle && shareDataUrl) {
      config.bdText = shareDataTitle;
      config.bdUrl = shareDataUrl;
    }
    return config;
  }
  window._bd_share_config={
    "common":{onBeforeClick: SetShareData},
    "share":{"bdCustomStyle":"/css/bdshare.css"}
  };
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>





<script src="/js/script.js"></script>


</div>
</body>
</html>
